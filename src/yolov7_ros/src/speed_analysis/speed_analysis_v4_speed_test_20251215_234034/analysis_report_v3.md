# 機器人速度測試分析報告 v4

**生成時間**: 2025-12-17 23:53:59
**數據來源**: speed_test_20251215_234034.csv

---

## 方法論說明

本報告採用控制理論中更嚴謹的穩態誤差 (Steady-State Error, SSE) 定義。

### 穩態判定條件

| 參數 | 數值 | 說明 |
|------|------|------|
| 容許範圍 (Tolerance) | ±5% | 相對於命令值的允許偏差 |
| 最小穩態樣本數 | 10 個 | 連續在容許範圍內的最少樣本數 |

### 穩定時間 (Settling Time, ts) 計算方法

1. 對於命令值 `cmd_val`，計算容許範圍：
   - 下界 = `cmd_val × (1 - 0.05)`
   - 上界 = `cmd_val × (1 + 0.05)`
2. 遍歷實際速度時序資料
3. 找到「首次進入容許範圍且後續連續 10 個樣本都在範圍內」的時間點
4. 若整個命令期間都無法達到此條件，標記為「未達穩態」

### 穩態誤差 (SSE) 計算公式

```
SSE_absolute = cmd_val - actual_mean (穩態後)
SSE_percent = (SSE_absolute / cmd_val) × 100%
```

### 追蹤率計算公式

```
Tracking Ratio = (actual_mean / cmd_val) × 100%
```

> **註**：追蹤率 = 100% - SSE%，理想值為 100%

### RMSE (均方根誤差) 計算公式

```
RMSE = √(Σ(cmd_val - actual_i)² / n)
```

---

## 1. 測試概覽

| 項目 | 數值 |
|------|------|
| 總樣本數 | 13235 |
| 測試時長 | 1323.5 秒 (22.06 分鐘) |
| 取樣率 | 10.0 Hz |
| 開始時間戳 | 1765813235.0032 |
| 結束時間戳 | 1765814558.4701 |

---

## 2. 速度極值

### 指令速度範圍

| 速度類型 | 最小值 | 最大值 |
|----------|--------|--------|
| 線速度 (cmd_lin_x) | 0.0 m/s | 1.5 m/s |
| 角速度 (cmd_ang_z) | -6.4 rad/s | 6.8 rad/s |

### 實際達到的最高速度

| 速度類型 | 最高實際值 | 當時命令值 |
|----------|------------|------------|
| 線速度 | 0.9499 m/s | 1.0 m/s |
| 角速度 | 5.7513 rad/s | 6.35 rad/s |

---

## 3. 線速度追蹤性能（嚴格穩態誤差）

| 命令 (m/s) | 實際 (m/s) | Ts (ms) | SSE (m/s) | SSE (%) | RMSE | 追蹤率 (%) | 穩態 | 超調 (%) |
|------------|------------|---------|-----------|---------|------|------------|------|----------|
| 0.05 | 0.0433 | 83533 | 0.0067 | 13.5% | 0.0179 | 86.5% | ✓ | 4.8% |
| 0.10 | 0.0920 | nan | 0.0080 | 8.0% | 0.0195 | 92.0% | ✗ | 2.6% |
| 0.15 | 0.1429 | 222 | 0.0071 | 4.7% | 0.0184 | 95.3% | ✓ | 2.3% |
| 0.20 | 0.1931 | 202 | 0.0069 | 3.5% | 0.0182 | 96.6% | ✓ | 1.0% |
| 0.25 | 0.2426 | 11369 | 0.0074 | 3.0% | 0.0187 | 97.0% | ✓ | 0.9% |
| 0.30 | 0.2927 | 241 | 0.0073 | 2.4% | 0.0180 | 97.6% | ✓ | 0.5% |
| 0.35 | 0.3429 | 189 | 0.0071 | 2.0% | 0.0179 | 98.0% | ✓ | 0.7% |
| 0.40 | 0.3926 | 201 | 0.0074 | 1.9% | 0.0185 | 98.1% | ✓ | 0.7% |
| 0.45 | 0.4427 | 204 | 0.0073 | 1.6% | 0.0186 | 98.4% | ✓ | 0.8% |
| 0.50 | 0.4895 | nan | 0.0105 | 2.1% | 0.0223 | 97.9% | ✗ | 0.4% |
| 0.55 | 0.5423 | 101 | 0.0077 | 1.4% | 0.0186 | 98.6% | ✓ | 0.5% |
| 0.60 | 0.5930 | 103 | 0.0070 | 1.2% | 0.0181 | 98.8% | ✓ | 0.5% |
| 0.65 | 0.6430 | 142 | 0.0070 | 1.1% | 0.0183 | 98.9% | ✓ | 0.4% |
| 0.70 | 0.6919 | 125 | 0.0081 | 1.2% | 0.0193 | 98.8% | ✓ | 0.4% |
| 0.75 | 0.7403 | nan | 0.0097 | 1.3% | 0.0214 | 98.7% | ✗ | 0.4% |
| 0.80 | 0.7919 | 140 | 0.0081 | 1.0% | 0.0195 | 99.0% | ✓ | 0.3% |
| 0.85 | 0.8391 | nan | 0.0109 | 1.3% | 0.0225 | 98.7% | ✗ | 0.3% |
| 0.90 | 0.8908 | nan | 0.0092 | 1.0% | 0.0202 | 99.0% | ✗ | 0.3% |
| 0.95 | 0.9389 | 152 | 0.0111 | 1.2% | 0.0182 | 98.8% | ✓ | 0.0% |
| 1.00 | 0.9454 | nan | 0.0546 | 5.5% | 0.0546 | 94.5% | ✗ | 0.0% |
| 1.05 | 0.9451 | nan | 0.1049 | 10.0% | 0.1049 | 90.0% | ✗ | 0.0% |
| 1.10 | 0.9447 | nan | 0.1553 | 14.1% | 0.1553 | 85.9% | ✗ | 0.0% |
| 1.15 | 0.9449 | nan | 0.2051 | 17.8% | 0.2051 | 82.2% | ✗ | 0.0% |
| 1.20 | 0.9443 | nan | 0.2557 | 21.3% | 0.2557 | 78.7% | ✗ | 0.0% |
| 1.25 | 0.9445 | nan | 0.3055 | 24.4% | 0.3055 | 75.6% | ✗ | 0.0% |
| 1.30 | 0.9442 | nan | 0.3558 | 27.4% | 0.3558 | 72.6% | ✗ | 0.0% |
| 1.50 | 0.9450 | nan | 0.5550 | 37.0% | 0.5550 | 63.0% | ✗ | 0.0% |


**線速度追蹤統計摘要**：
- 穩態達成率：14/27 (52%)
- 平均追蹤率：92.2%
- 平均穩態誤差：7.81%


---

## 4. 角速度追蹤性能（嚴格穩態誤差）

| 命令 (rad/s) | 實際 (rad/s) | Ts (ms) | SSE (rad/s) | SSE (%) | RMSE | 追蹤率 (%) | 穩態 |
|--------------|--------------|---------|-------------|---------|------|------------|------|
| -3.50 | -3.3761 | 0 | -0.1239 | 3.5% | 0.1247 | 96.5% | ✓ |
| -2.30 | -2.2211 | nan | -0.0789 | 3.4% | 0.0792 | 96.6% | ✗ |
| -1.95 | -1.8813 | 159 | -0.0687 | 3.5% | 0.0692 | 96.5% | ✓ |
| -1.50 | -1.4471 | 190 | -0.0529 | 3.5% | 0.0549 | 96.5% | ✓ |
| -1.00 | -0.9552 | 567 | -0.0448 | 4.5% | 0.0519 | 95.5% | ✓ |
| -0.50 | -0.4724 | nan | -0.0276 | 5.5% | 0.0408 | 94.5% | ✗ |
| -0.10 | -0.0841 | nan | -0.0159 | 15.9% | 0.0272 | 84.1% | ✗ |
| 0.50 | 0.4758 | 506058 | 0.0242 | 4.8% | 0.0325 | 95.2% | ✓ |
| 1.00 | 0.9576 | 14489 | 0.0424 | 4.2% | 0.0473 | 95.8% | ✓ |
| 1.50 | 1.4446 | 285 | 0.0554 | 3.7% | 0.0566 | 96.3% | ✓ |
| 1.95 | 1.8823 | 141 | 0.0677 | 3.5% | 0.0687 | 96.5% | ✓ |
| 2.50 | 2.4178 | nan | 0.0822 | 3.3% | 0.0830 | 96.7% | ✗ |
| 3.70 | 3.5665 | 157 | 0.1335 | 3.6% | 0.1345 | 96.4% | ✓ |


---

## 5. 控制延遲分析

| 指標 | 數值 |
|------|------|
| 平均延遲 | 170.7 ms |
| 最小延遲 | 100.6 ms |
| 最大延遲 | 472.5 ms |
| 中位數 | 171.9 ms |
| 標準差 | 40.3 ms |
| 測量樣本數 | 804 |

**延遲定義**: 從發送命令 (cmd_vel) 到 odometry 速度開始響應的時間差。

---

## 6. 煞車特性分析

共偵測到 **26** 次煞車事件。

| 初速度 (m/s) | 停止時間 (ms) | 滑行距離 (m) | 平均減速度 (m/s²) |
|--------------|---------------|--------------|-------------------|
| 0.0997 | 270 | 0.0102 | 0.3690 |
| 0.1493 | 339 | 0.0205 | 0.4411 |
| 0.2005 | 387 | 0.0342 | 0.5188 |
| 0.2505 | 403 | 0.0600 | 0.6217 |
| 0.2509 | 508 | 0.0600 | 0.4940 |
| 0.3006 | 527 | 0.0723 | 0.5701 |
| 0.3496 | 575 | 0.1084 | 0.6084 |
| 0.3998 | 655 | 0.1248 | 0.6108 |
| 0.4479 | 735 | 0.1555 | 0.6090 |
| 0.4998 | 806 | 0.2084 | 0.6197 |
| 0.5499 | 917 | 0.2484 | 0.5997 |
| 0.5990 | 944 | 0.2916 | 0.6344 |
| 0.6502 | 1103 | 0.3401 | 0.5893 |
| 0.6497 | 1008 | 0.3168 | 0.6444 |
| 0.6991 | 1148 | 0.3662 | 0.6091 |
| 0.7498 | 1188 | 0.4442 | 0.6310 |
| 0.7995 | 1232 | 0.4750 | 0.6491 |
| 0.8473 | 1390 | 0.5634 | 0.6097 |
| 0.8992 | 1410 | 0.5985 | 0.6379 |
| 0.9451 | 1396 | 0.6582 | 0.6772 |


**煞車統計摘要**：
| 指標 | 數值 |
|------|------|
| 平均減速度 | 0.6031 m/s² |
| 平均滑行距離 | 0.3527 m |
| 平均停止時間 | 984 ms |


---

## 7. 生成的圖表

### 速度追蹤分析
- **velocity_comparison.png** - 命令 vs 實際速度時序對比
- **linear_tracking_performance.png** - 線速度追蹤性能圖（時序 + 追蹤率）
- **angular_tracking_performance.png** - 角速度追蹤性能圖（時序 + 追蹤率）

### 延遲分析
- **latency_analysis.png** - 控制延遲時序圖與 CDF

### 煞車特性分析
- **braking_analysis.png** - 煞車特性綜合分析

---

*報告由 `speed_analysis_v4.py` 自動生成（嚴格穩態誤差版本）*
